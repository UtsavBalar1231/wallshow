#!/usr/bin/make -f

%:
	dh $@

override_dh_auto_install:
	# Install main executable
	install -D -m 0755 bin/wallshow $(CURDIR)/debian/wallshow/usr/bin/wallshow

	# Install library modules (preserving directory structure)
	mkdir -p $(CURDIR)/debian/wallshow/usr/lib/wallshow
	cp -r lib/* $(CURDIR)/debian/wallshow/usr/lib/wallshow/

	# Set proper permissions for library files
	find $(CURDIR)/debian/wallshow/usr/lib/wallshow -type f -exec chmod 0644 {} \;
	find $(CURDIR)/debian/wallshow/usr/lib/wallshow -type d -exec chmod 0755 {} \;

override_dh_auto_test:
	# Skip tests during package build (requires runtime dependencies)
	true
